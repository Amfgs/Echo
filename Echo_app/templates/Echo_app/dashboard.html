{% extends 'Echo_app/base.html' %}

{% load static %} {% block title %}Dashboard - Echo News{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'Echo_app/css/dashboard.css' %}">
<div class="dashboard-header">
    <h1>Olá, {{ nome }}!</h1>
</div>

<h2>Suas Notícias</h2>
<div class="news-feed">
    {% for noticia in noticias_recomendadas %}
        <a href="{% url 'noticia_detalhe' noticia.id %}" class="news-card-link">
            <article class="news-card">
                <h3>{{ noticia.titulo }}</h3>
                <p>{{ noticia.conteudo|truncatewords:20 }}</p>
                <div class="card-meta">
                    <span class="category">{{ noticia.categoria.nome|default:"Geral" }}</span>
                    <span>{{ noticia.data_publicacao|date:"d M, Y" }}</span>
                </div>
            </article>
        </a>
    {% empty %}
        <div class="empty-state">
            <p>Ainda não há notícias para você. Comece a interagir com os artigos para receber recomendações personalizadas!</p>
        </div>
    {% endfor %}
</div>

<div style="height: 80px;"></div>

{% endblock %}